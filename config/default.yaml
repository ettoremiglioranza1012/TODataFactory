# TopOpt Experiment Configuration
# HPC-optimized topology optimization parameters

# Grid Configuration
grid:
  nx: 64              # Number of elements in X (should be divisible by 2^(nl-1))
  ny: 32              # Number of elements in Y (should be divisible by 2^(nl-1))
  nz: 32              # Number of elements in Z (should be divisible by 2^(nl-1))
  vol_fraction: 0.2   # Volume fraction constraint (0.0-1.0)

# Solver Parameters
solver:
  nl: 4               # Multigrid levels (4 for 64-width grids, stable default)
  rmin: 1.5           # Filter radius (elements)
  penal: 3.0          # SIMP penalization factor
  max_iter: 20        # Maximum optimization iterations

# HPC Parameters
hpc:
  stencil_size_x: 1   # X-direction stencil padding (architecture-specific)
  stencil_size_y: 8   # Y-direction stencil padding (8 for AVX-512)
  stencil_size_z: 1   # Z-direction stencil padding
  num_threads: 10     # OpenMP threads (set to physical cores)

# Load Generation
load:
  total_force: -1000.0      # Total force magnitude (N)
  center_min_frac: 0.2      # Min load center position (fraction of domain)
  center_max_frac: 0.8      # Max load center position (fraction of domain)
  radius_min: 3.0           # Min patch radius (elements)
  radius_max: 5.0           # Max patch radius (elements)
  patch_shape: "circular"   # Load patch shape: circular, square

# ML Dataset Generation
ml:
  num_samples: 10           # Number of samples to generate
  base_seed: 1000           # Base random seed (sample i uses base_seed + i)
  save_inputs: true         # Save input tensors (.npy)
  save_targets: true        # Save target density fields (.npy)
  save_vtk: false           # Save VTK files for visualization

# Experiment Output
output:
  base_dir: "experiments"   # Base directory for all experiments
  create_timestamp: true    # Add timestamp to experiment folder
  save_config: true         # Save copy of config in experiment folder
  log_level: "INFO"         # Logging level: DEBUG, INFO, WARNING, ERROR
